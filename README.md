# Лабораторная работа M1: Калькулятор выражений

## Титульный лист
- **ФИО:** Максим Попков
- **Группа:** М8О-105БВ-25
- **Вариант:** M1
- **Семинарист:** Самир Ахмед? (не было пар еще, кроме лекций)

## Ссылка на репозиторий
https://github.com/Maximoff35/calc-lab-M1

## Описание
Парсер‑вычислитель арифметических выражений с поддержкой `+ - * / // % **` и скобок.
Обработка ошибок: `ParseError`, `EvalError`.

## Структура
```
src/
  main.py          # точка входа с main()
  calc_m1.py       # токенизация и разбор
tests/             # тесты pytest
```
В структуре проекта выделены отдельные директории для исходного кода (`src/`) и модульных тестов (`tests/`), что соответствует стандартам оформления лабораторных работ и рекомендациям PEP8.


## Запуск
### Вариант A: uv
```bash
uv venv
source .venv/bin/activate   # Windows: .venv\Scripts\Activate.ps1
uv sync
python -m src.main
```

### Вариант B: venv+pip
```bash
python -m venv .venv
source .venv/bin/activate   # Windows: .venv\Scripts\Activate.ps1
pip install -r requirements.txt  # либо: pip install -U pytest ruff mypy
python -m src.main
```

## Тесты
```bash
pytest -q
```

## Результаты

Программа корректно обрабатывает арифметические выражения, содержащие:
- операции `+`, `-`, `*`, `/`, `//`, `%`, `**`;
- вложенные скобки и унарные знаки `+` и `-`;
- целые и вещественные числа.

Реализованы собственные исключения:
- `ParseError` — ошибки синтаксиса;
- `EvalError` — ошибки вычисления (например, деление на ноль).

Все тесты (`pytest`) пройдены успешно:
```bash
pytest -q
================================================== test session ==================================================
collected 62 items

tests/test_calc_m1.py ..............................................................                   [100%]
=================================================== 62 passed ====================================================
```

## Заключение

В ходе лабораторной работы был разработан калькулятор выражений с поддержкой приоритетов операций и скобок. Применён принцип рекурсивного спуска для парсинга выражений. Все функции снабжены аннотациями типов и обработкой ошибок. Покрытие тестами позволяет убедиться в корректности реализации на типичных и граничных случаях.  Работа позволила закрепить навыки:
- структурирования кода по PEP8,
- написания модульных тестов на `pytest`,
- использования исключений для обработки ошибок,
- ознакомления с инструментами автоматической проверки качества кода `pre-commit`, `ruff` и `mypy`.

Все требования шаблона лабораторных работ выполнены.
